/*! ng-i18next - v0.3.2 - 2014-07-02 - Copyright (c) 2014 Andre Meyering; Licensed MIT */angular.module("jm.i18next",["ng"]),angular.module("jm.i18next").provider("$i18next",function(){"use strict";var a=this,b=null,c={},d=null;a.options={},a.$get=["$rootScope",function(e){function f(a){window.i18n.init(a,function(a){c={},b=a,e.$$phase||e.$digest(),e.$broadcast("i18nextLanguageChange")})}function g(a,b){i.debugMsg.push(["i18next options changed:",b,a]),d=a,f(d)}function h(a,d,e){var f=d.lng||"auto";c[f]||(c[f]={}),b?(!c[f][a]||e)&&(c[f][a]=b(a,d)):c[f][a]=a}function i(a,b){var d=b||{},e=b?angular.extend({},d,b):d;return h(a,e,!!b),b&&b.lng?c[b.lng][a]:d.lng?c[d.lng][a]:c.auto[a]}return i.debugMsg=[],i.options=a.options,a.options!==d&&g(a.options,d),e.$watch(function(){return i.options},function(a,b){a&&b!==a&&g(a,b)},!0),i}]}),angular.module("jm.i18next").directive("ngI18next",["$rootScope","$i18next","$compile","$parse",function(a,b,c,d){"use strict";function e(e,f,g){var h,i,j="text",k=[j];if(0===g.indexOf("[")){var l=g.split("]");if(l.length>2)for(i=2;i<l.length;i++)l[1]+="]"+l[i],l[i]=null;g=l[1],j=l[0].substr(1,l[0].length-1)}if(g.indexOf(";")===g.length-1&&(g=g.substr(0,g.length-2)),j.indexOf(":")>=0?(k=j.split(":"),j=k[0]):"i18next"===j&&(k[1]="i18next",j="text"),"i18next"!==j&&"i18next"!==k[1])h=b(g);else{var m={},n=g;if(g.indexOf("(")>=0&&g.indexOf(")")>=0){var o=g.split(")");o[0]=o[0].substr(1,o[0].length),o.length>2?(n=o.pop(),m=d(o.join(")"))()):(m=d(o[0])(),n=o[1]),m.sprintf&&(m.postProcess="sprintf")}h=b(n,m)}"html"===j?f.empty().append(h):"text"===j?f.text(h):f.attr(j,h),c(f.contents())(e),a.$$phase||a.$digest()}function f(a,b,c){if(c.indexOf(";")>=0)for(var d=c.split(";"),f=0;f<d.length;f++)""!==d[f]&&e(a,b,d[f]);else e(a,b,c)}return{restrict:"A",scope:!1,link:function(a,b,c){function d(c){e=""===c?b.text().replace(/^\s+|\s+$/g,""):c,e&&f(a,b,e)}var e;c.$observe("ngI18next",d),d(c.ngI18next),a.$on("i18nextLanguageChange",function(){f(a,b,e)})}}}]),angular.module("jm.i18next").filter("i18next",["$i18next",function(a){"use strict";return function(b,c){return a(b,c)}}]);
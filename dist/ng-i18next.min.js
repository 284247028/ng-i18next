/*! ng-i18next - v0.2.2 - 2013-07-01 - Copyright (c) 2013 Andre Meyering; Licensed MIT */angular.module("jm.i18next",["ng"]),angular.module("jm.i18next").provider("$i18next",function(){"use strict";var a,b=this,c=null,d={};b.options={},b.$get=function(e){function f(a){window.i18n.init(a,function(a){function b(b){e.$apply(function(){d[b]=a(b)})}c=a;for(var f in d)b(f);e.$broadcast("i18nextLanguageChange")})}function g(a){d[a]=c?c(a):a}function h(a){return g(a),d[a]}return a=h.options=b.options,e.$watch(function(){return h.options},function(b,c){console.log("i18next options changed: \n","old options",c,"new options",b),a=h.options,f(a)},!0),h}}),angular.module("jm.i18next").directive("ngI18next",["$rootScope","$i18next","$interpolate","$compile",function(a,b,c,d){"use strict";function e(a,c,e){var f="text";if(0===e.indexOf("[")){var g=e.split("]");e=g[1],f=g[0].substr(1,g[0].length-1)}e.indexOf(";")===e.length-1&&(e=e.substr(0,e.length-2));var h=b(e);"html"===f?c.html(h):"text"===f?c.text(h):c.attr(f,h),d(c.contents())(a)}function f(a,b,c){if(c.indexOf(";")>=0)for(var d=c.split(";"),f=0;f<d.length;f++)""!==d[f]&&e(a,b,d[f]);else e(a,b,c)}return{restrict:"A",scope:!0,link:function(a,b,c){c.$observe("ngI18next",function(c){a.translationValue=""===c?b.text().replace(/^\s+|\s+$/g,""):c,a.translationValue&&f(a.$parent,b,a.translationValue)}),a.$on("i18nextLanguageChange",function(){f(a.$parent,b,a.translationValue)})}}}]),angular.module("jm.i18next").filter("i18next",["$parse","$timeout","$i18next",function(a,b,c){"use strict";return function(a){return c(a)}}]);
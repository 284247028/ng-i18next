/*! ng-i18next - 0.6.1 - 2016-08-01 - Copyright (c) 2016 Andre Meyering; Licensed MIT*/!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.ngI18next=t.ngI18next||{})}(this,function(t){"use strict";var n=function(){function t(t){var n=this;this.$interpolate=t,this.restrict="A",this.scope=!1,this.controller="NgI18nextController",this.link=function(t,i,e,o){function s(t){if(angular.isDefined(t)){if(u=t.replace(/^\s+|\s+$/g,""),""===u)return r();o.localize(u)}}function r(){if(!l){var n=a.$interpolate(i.html());t.$watch(n,s),l=!0}}var a=n,u="",l=!1;u=e.ngI18next.replace(/^\s+|\s+$/g,""),u.indexOf("__once__")<0?e.$observe("ngI18next",s):(u=u.split("__once__").join(""),o.localize(u,!0)),t.$on("i18nextLanguageChange",function(){o.localize(u)})}}return t.factory=function(){var n=function(n){return new t(n)};return n.$inject=["$interpolate"],n},t}(),i=function(){function t(t){var n=this;this.$compile=t,this.restrict="A",this.scope=!1,this.link=function(t,i,e){var o=i.clone();o.attr("ng-i18next","__once__"+e.boI18next),o.removeAttr("bo-i18next"),i.replaceWith(n.$compile(o)(t))}}return t.factory=function(){var n=function(n){return new t(n)};return n.$inject=["$compile"],n},t}(),e=function(){function t(t,n,i,e,o,s,r){this.$scope=t,this.$element=n,this.$compile=i,this.$parse=e,this.$interpolate=o,this.$sanitize=s,this.$i18next=r}return t.prototype.localize=function(t,n){for(var i=t.split(";"),e=0;e<i.length;++e)t=i[e].trim(),""!==t&&this.parse(t,n)},t.prototype.parse=function(t,n){var i=this.parseKey(t);this.argsUnregister&&this.argsUnregister(),this.stringUnregister&&this.stringUnregister(),n||(this.argsUnregister=this.$scope.$watch(i.i18nOptions,this.render,!0)),this.render(i,n)},t.prototype.parseKey=function(t){var n,i={attr:"text"},e="{}";return t=t.trim(),0===t.indexOf("[")&&(n=t.split("]"),i=this.parseOptions(n.shift().substr(1).trim()),t=n.join("]")),0===t.indexOf("(")&&t.indexOf(")")>=0&&(n=t.split(")"),t=n.pop().trim(),e=n.join(")").substr(1).trim()),{key:t,options:i,i18nOptions:this.$parse(e)}},t.prototype.parseOptions=function(t){for(var n={attr:"text"},i=t.split(":"),e=0;e<i.length;++e)"i18next"===i[e]?n[i[e]]=!0:n.attr=i[e];return n},t.prototype.render=function(t,n){if(angular.isDefined(this)&&angular.isDefined(this.$scope)){var i=t.i18nOptions(this.$scope);i.sprintf&&(i.postProcess="sprintf"),"html"===t.options.attr&&angular.forEach(i,function(t,n){var e=void 0,o=this.$sanitize(t),s=Number(t);e="number"!=typeof s||isNaN(s)?o:s,i[n]=e},this);var e=this.$i18next.t(t.key,i);if(angular.isDefined(e)){if("html"===t.options.attr)return this.$element.empty().append(e),void this.$compile(this.$element.contents())(this.$scope);this.stringUnregister&&this.stringUnregister();var o=this.$element.text.bind(this.$element);"text"!==t.options.attr&&(o=this.$element.attr.bind(this.$element,t.options.attr));var s=this.$interpolate(e);n||(this.stringUnregister=this.$scope.$watch(s,o)),o(s(this.$scope))}}},t.$inject=["$scope","$element","$compile","$parse","$interpolate","$sanitize","$i18next"],t}(),o=function(){function t(){}return t.factory=function(){var t=function(t){function n(n,i){return t.t(n,i)}return n.$stateful=!0,n};return t.$inject=["$i18next"],t},t}(),s=function(){function t(t,n,i,e,o){var s=this;this.$rootScope=t,this.$timeout=n,this.$q=i,this.options={},this.tOptions={},this.modules=[],this.localesLoaded=!1,this.translations={},this.i18n=window.i18next,this.options=e,this.modules=o,this.initializeI18next(this.options,this.modules).then(function(t){s.initializeI18nextComplete(t)}),this.$rootScope.$watch(function(){return s.options},function(t,n){t!==n&&s.initializeI18next(t,s.modules).then(function(t){s.initializeI18nextComplete(t)})})}return t.prototype.initializeI18next=function(t,n){var i=this,e=this.$q.defer();if(window.i18next&&angular.isDefined(n))this.i18n=window.i18next,angular.forEach(n,function(t){if(angular.isDefined(t))i.i18n.use(t);else{var n=new Error("[ng-i18next] Can't find one or more  of the requested i18next modules! Please refer to i18next.");i.handleError(n),e.reject(n)}}),this.i18n.init(t,function(t,n){"undefined"==typeof n?(n=t,t=void 0):angular.isDefined(t)&&"undefined"!=typeof t&&null!==t&&i.handleError(t),e.resolve("ng-i18next initialized")});else{var o=new Error("[ng-i18next] Can't find i18next and/or i18next modules! Please refer to i18next.");this.handleError(o),e.reject(o)}return e.promise},t.prototype.initializeI18nextComplete=function(t){var n=this;this.$timeout(function(){n.$rootScope.$broadcast("i18nextLanguageChange",n.options.lng),n.$rootScope.$apply()})},t.prototype.t=function(t,n){var i,e,o=angular.isDefined(n),s=o&&angular.isDefined(n.ns),r=angular.isDefined(this.options)&&angular.isDefined(this.options.ns),a=this.options;return angular.isUndefined(s)&&r&&(a=angular.extend({},this.options),a.ns=a.defaultNS),i=o?angular.extend({},a,n):a,e=i.lng,this.translate(t,i,o),angular.isDefined(e)?this.translations[e][t]:this.translations.auto[t]},t.prototype.changeLanguage=function(t){var n=this;this.options.lng!==t&&this.i18n.language!==t&&(this.options.lng=t,this.i18n.changeLanguage(t,function(t,i){n.$rootScope.$broadcast("i18nextLanguageChange",n.i18n.language)}))},t.prototype.changeOptions=function(t){angular.isDefined(t)&&(this.options=t)},t.prototype.translate=function(t,n,i){var e=angular.isDefined(n)&&i?n:this.options,o=e.lng||"auto";angular.isUndefined(this.translations[o])&&(this.translations[o]={}),angular.isUndefined(this.i18n)?this.translations[o][t]=angular.isDefined(e.defaultValue)?e.defaultValue:t:(angular.isUndefined(this.translations[o][t])||i)&&(this.translations[o][t]=this.i18n.t(t,e))},t.prototype.handleError=function(t){var n=angular.isDefined(t.message)?t.message:t[0];console.log(n)},t}(),r=function(){function t(){var t=this;this.options={},this.modules=[],this.$get=function(n,i,e){return new s(n,i,e,t.options,t.modules)},this.$get.$inject=["$rootScope","$timeout","$q"]}return t.prototype.init=function(t,n){this.options=t,this.modules=n},t.prototype.use=function(t){return this.modules.push(t),this},t}();angular.module("jm.i18next",["ng","ngSanitize"]).provider("$i18next",r).directive("ngI18next",n.factory()).directive("boI18next",i.factory()).controller("NgI18nextController",e).filter("i18next",o.factory()),t.I18nProvider=r,Object.defineProperty(t,"__esModule",{value:!0})});